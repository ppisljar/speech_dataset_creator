<!-- Data Viewer Component HTML -->
<div class="data-viewer-controls">
    <select id="dataFileSelect">
        <option value="">Select File</option>
    </select>
    <select id="dataSplitSelect">
        <option value="">Select Split</option>
    </select>
    <button onclick="loadData()">Load Data</button>
    <button onclick="refreshFile()">Refresh File</button>
    <div class="clean-dropdown">
        <button onclick="toggleCleanDropdown()" id="cleanBtn" disabled>Clean â–¼</button>
        <div id="cleanDropdownContent" class="clean-dropdown-content">
            <div id="cleanFilesList">
                <div class="clean-placeholder">Select a file and split to see cleanable files</div>
            </div>
        </div>
    </div>
</div>

<div class="zoom-controls">
    <label for="zoomSelect">Zoom: </label>
    <select id="zoomSelect" onchange="setZoom(parseFloat(this.value))">
        <option value="1000">1s/px (1000ms/px)</option>
        <option value="500">500ms/px</option>
        <option value="250">250ms/px</option>
        <option value="100" selected>100ms/px</option>
        <option value="50">50ms/px</option>
        <option value="25">25ms/px</option>
        <option value="10">10ms/px</option>
        <option value="5">5ms/px</option>
        <option value="2">2ms/px</option>
        <option value="1">1ms/px</option>
    </select>
</div>

<!-- Waveform Viewer -->
<div id="waveformContainer" class="waveform-container">
    <div class="waveform-canvas-container">
        <canvas id="waveformCanvas" class="waveform-canvas" width="1200" height="560"></canvas>
        <canvas id="annotationsCanvas" class="annotations-canvas" width="1200" height="560"></canvas>
    </div>
    
    <!-- Audio Controls -->
    <div class="audio-controls">
        <button id="playBtn" onclick="playAudio()" disabled>Play</button>
        <button id="pauseBtn" onclick="pauseAudio()" disabled style="display: none;">Pause</button>
        <button id="stopBtn" onclick="stopAudio()" disabled>Stop</button>
        <span id="audioTime" class="audio-time">0:00 / 0:00</span>
        <span class="volume-control">
            Volume: <input type="range" id="volumeSlider" min="0" max="100" value="50">
        </span>
        <span class="time-displays">
            <span class="time-display">Audio: <span id="audioPositionMs">0</span>ms</span>
            <span class="time-display">Mouse: <span id="mousePositionMs">0</span>ms</span>
            <span class="time-display">Diff: <span id="timeDifferenceMs">0</span>ms</span>
        </span>
    </div>
    
    <!-- Timeline Scrollbar -->
    <div class="timeline-container">
        <div class="timeline-scrollbar-container">
            <div id="timelineScrollbar" class="timeline-scrollbar">
                <div id="timelineThumb" class="timeline-thumb"></div>
            </div>
        </div>
        <div class="timeline-labels">
            <span id="startTime">0:00</span>
            <span>Position: <span id="currentPosition">0:00</span></span>
            <span id="endTime">0:00</span>
        </div>
    </div>
    
    <!-- Legend -->
    <div class="waveform-legend">
        <div class="legend-item">
            <span class="legend-color legend-silences">Silences</span>
        </div>
        <div class="legend-item">
            <span class="legend-color legend-pyannote">Pyannote</span>
        </div>
        <div class="legend-item">
            <span class="legend-color legend-wespeaker">WeSpeaker</span>
        </div>
        <div class="legend-item">
            <span class="legend-color legend-3dspeaker">3DSpeaker</span>
        </div>
        <div class="legend-item">
            <span class="legend-color legend-raw-segments">Raw Segments</span>
        </div>
        <div class="legend-item">
            <span class="legend-color legend-segments">Segments</span>
        </div>
        <div class="legend-item">
            <span class="legend-color legend-raw-subsegments">Raw Subsegments</span>
        </div>
        <div class="legend-item">
            <span class="legend-color legend-subsegments">Subsegments</span>
        </div>
        <div class="legend-item">
            <span class="legend-color legend-transcriptions">Transcriptions</span>
        </div>
    </div>
</div>

<div id="dataViewer" class="data-viewer">
    <!-- Segments table will be displayed here -->
</div>
